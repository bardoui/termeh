// @todo fix overflow content wrapper on ios
.layout {
    display: flex;
    flex-wrap: nowrap;
    flex-direction: column;
    align-items: stretch;
    justify-content: stretch;
    box-sizing: border-box;
    flex: 1;
    align-self: stretch;
    justify-self: stretch;
    max-width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 0;
    filter: grayscale(0%);
    transition: filter _var("transition", "duration") _var("transition", "ease");

    > .attachment {
        flex: none;
        box-sizing: border-box;
        max-width: 100%;
    }

    > .content {
        flex: 1;
        display: flex;
        flex-direction: column;
        box-sizing: border-box;
        overflow: hidden;
        overflow-y: auto;
        @extend .is-scrollable;
        padding: _gap("container");
        max-width: 100%;

        > .wrapper {
            display: block;
            box-sizing: border-box;
            max-width: 100%;
        }
    }

    &.is-horizontal {
        flex-direction: row;
    }

    &.is-centered > .content > * {
        margin: auto;
    }

    &.is-deactivated {
        filter: grayscale(100%);

        > .content {
            overflow-y: hidden;
        }
    }

    &.is-stacked {
        flex-direction: column;

        &-reverse {
            flex-direction: column-reverse;
        }
    }

    &.is-padding-less {
        > .content {
            padding: 0;
        }
    }

    @each $label, $gap in _gaps(_var("layout", "gaps", ())) {
        &.is-#{$label}-padded {
            > .content {
                padding: $gap;
            }
        }
    }

    @each $device, $mq in _breakpoints() {
        @media #{$mq} {
            &.is-#{$device}-stacked {
                flex-direction: column !important;

                &-reverse {
                    flex-direction: column-reverse !important;
                }
            }

            &.is-#{$device}-padding-less {
                > .content {
                    padding: 0 !important;
                }
            }

            @each $label, $gap in _gaps(_var("layout", "gaps", ())) {
                &.is-#{$device}-#{$label}-padded {
                    > .content {
                        padding: $gap !important;
                    }
                }
            }
        }
    }
}
